{"version":3,"sources":["scripts/main.js"],"names":["thead","document","body","querySelector","titles","querySelectorAll","tbody","addEventListener","e","people","rows","index","target","cellIndex","forEach","title","classList","contains","remove","toggle","sort","a","b","aText","cells","textContent","bText","Number","aSalary","replace","bSalary","localeCompare","person","append","parentElement","add","form","createElement","label","titleName","toLowerCase","selectCity","city","option","name","dataset","qa","input","type","submitButton","preventDefault","data","FormData","dataObj","Object","fromEntries","entries","notification","length","age","row","usFormatter","Intl","NumberFormat","salary","format","values","value","cell","text","focus","ev","key"],"mappings":"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","file":"main.4098a825.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst thead = document.body.querySelector('thead');\nconst titles = [ ...thead.querySelectorAll('th') ];\nconst tbody = document.body.querySelector('tbody');\n\nthead.addEventListener('click', (e) => {\n  const people = [ ...tbody.rows ];\n  const index = e.target.cellIndex;\n\n  titles.forEach(title => {\n    if (title.classList.contains('sorted-ASC') && title !== e.target) {\n      title.classList.remove('sorted-ASC');\n    }\n  });\n\n  e.target.classList.toggle('sorted-ASC');\n\n  people.sort((a, b) => {\n    const aText = a.cells[index].textContent;\n    const bText = b.cells[index].textContent;\n\n    if (e.target.textContent === 'Age') {\n      if (e.target.classList.contains('sorted-ASC')) {\n        return Number(aText) - Number(bText);\n      } else {\n        return Number(bText) - Number(aText);\n      }\n    }\n\n    if (e.target.textContent === 'Salary') {\n      const aSalary = Number(aText.replace(/[$,]/g, ''));\n      const bSalary = Number(bText.replace(/[$,]/g, ''));\n\n      if (e.target.classList.contains('sorted-ASC')) {\n        return aSalary - bSalary;\n      } else {\n        return bSalary - aSalary;\n      }\n    } else {\n      if (e.target.classList.contains('sorted-ASC')) {\n        return aText.localeCompare(bText);\n      } else {\n        return bText.localeCompare(aText);\n      }\n    }\n  });\n\n  people.forEach(person => tbody.append(person));\n});\n\n// // #2\n\ntbody.addEventListener('click', (e) => {\n  const people = [ ...tbody.rows ];\n\n  people.forEach(person => {\n    person.classList.remove('active');\n  });\n  e.target.parentElement.classList.add('active');\n});\n\n// // #3\n\nconst form = document.createElement('form');\n\ntitles.forEach(title => {\n  const label = document.createElement('label');\n  const titleName = title.textContent.toLowerCase();\n\n  label.textContent = `${title.textContent}: `;\n\n  if (title.textContent === 'Office') {\n    const selectCity = document.createElement('select');\n    const cityOptions = ['Tokyo', 'Singapore', 'London',\n      'New York', 'Edinburgh', 'San Francisco'];\n\n    cityOptions.forEach(city => {\n      const option = document.createElement('option');\n\n      option.textContent = city;\n      selectCity.append(option);\n    });\n\n    selectCity.name = titleName;\n    selectCity.dataset.qa = titleName;\n    label.append(selectCity);\n  } else {\n    const input = document.createElement('input');\n\n    if (title.textContent === 'Age' || title.textContent === 'Salary') {\n      input.type = 'number';\n    } else {\n      input.type = 'text';\n    }\n\n    input.name = titleName;\n    input.dataset.qa = titleName;\n    label.append(input);\n  }\n\n  form.append(label);\n});\n\nform.classList.add('new-employee-form');\ndocument.body.append(form);\n\n// #4\n\nconst submitButton = document.createElement('button');\n\nsubmitButton.textContent = 'Save to table';\nsubmitButton.type = 'submit';\nform.append(submitButton);\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  if (form.querySelector('.notif')) {\n    form.querySelector('.notif').remove();\n  }\n\n  const data = new FormData(form);\n  const dataObj = Object.fromEntries(data.entries());\n  const notification = document.createElement('div');\n\n  notification.dataset.qa = 'notification';\n  notification.classList.add('notif');\n\n  if (dataObj.name.length < 4) {\n    notification.classList.add('error');\n    notification.textContent = '\"Name\" value should have more than 4 letters';\n  } else if (Number(dataObj.age) < 18 || Number(dataObj.age) > 90) {\n    notification.classList.add('error');\n    notification.textContent = '\"Age\" value is not valid';\n  } else {\n    const row = document.createElement('tr');\n    const usFormatter = new Intl.NumberFormat('en-US');\n\n    dataObj.salary = `$${usFormatter.format(dataObj.salary)}`;\n\n    const values = Object.values(dataObj);\n\n    values.forEach(value => {\n      const cell = document.createElement('td');\n\n      cell.textContent = value;\n      row.append(cell);\n    });\n\n    tbody.append(row);\n    notification.classList.add('success');\n    notification.textContent = 'Employee is successfully added';\n  }\n\n  form.append(notification);\n});\n\n// #5\n\ntbody.addEventListener('dblclick', (e) => {\n  const text = e.target.textContent;\n\n  e.target.textContent = '';\n\n  const input = document.createElement('input');\n\n  input.classList.add('.cell-input');\n  input.value = text;\n  e.target.append(input);\n  input.focus();\n\n  input.addEventListener('blur', (ev) => {\n    if (input.value.length === 0) {\n      e.target.textContent = text;\n    } else {\n      e.target.textContent = input.value;\n    }\n  });\n\n  input.addEventListener('keydown', (ev) => {\n    if (ev.key === 'Enter') {\n      if (input.value.length === 0) {\n        e.target.textContent = text;\n      } else {\n        e.target.textContent = input.value;\n      }\n    }\n  });\n});\n"]}